{{ define "main" }}

<div class="paper">
    <div class="name-bar">
        <h1>{{ .Site.Params.Name }}</h1>

        {{ if .Site.Params.Contacts.Enable }}
            <div class="contacts-list">
                <ul>
                    {{ range .Site.Params.Contacts.List }}
                        <li><a class="contact" href="{{ .url | safeURL }}">{{ .info }}</a></li>
                    {{ end }}
                </ul>
            </div>
        {{ end }}

    </div>

    <div class="details">
        {{ with .Site.Params.Description }}
            {{ if ne . "" }}
                <div class="description">{{ . }}</div>
            {{ end }}
        {{ end }}

        {{ if .Site.Params.Contacts.Enable }}
            <div class="interests">
                <h2 class="section-heading">Research Interests</h2>
                <ul>
                    {{ range .Site.Params.Interests.List }}
                        <li>{{ .interest }}</li>
                    {{ end }}
                </ul>
            </div>
        {{ end }}

        {{ if .Site.Params.Education.Enable }}
            <div class="education">
                <h2 class="section-heading">Education</h2>
                <ul>
                    {{ range .Site.Params.Education.List }}
                        <li>
                            <strong>{{ .degree }}</strong>
                            {{ partial "period.html" . }}
                            {{ .institution }}
                        </li>
                    {{ end }}
                </ul>
            </div>
        {{ end }}

        {{ if .Site.Params.Projects.Enable }}
            <div class="projects">
                <h2 class="section-heading">Projects</h2>
                {{ range .Site.Pages }}
                    {{ if eq .Type "project" }}
                        <div class="project">
                            <strong><a href="{{ .Permalink }}">{{ .Title }}</a></strong>
                            {{ partial "period.html" .Params }}
                            {{ partial "summary.html" . }}
                        </div>
                    {{ end }}
                {{ end }}
            </div>
        {{ end }}

        {{ if .Site.Params.Publications.Enable }}
            <div class="publications">
                <h2 class="section-heading">Publications</h2>
                <ul>
                    {{ range .Site.Pages }}
                        {{ if eq .Type "project" }}
                            {{ range .Params.Publications.List }}
                                <li>{{ partial "publication.html" . }}</li>
                            {{ end }}
                        {{ end }}
                    {{ end }}
                </ul>
            </div>
        {{ end }}

        {{ if .Site.Params.Posts.Enable }}
            <div class="posts">
                <h2 class="section-heading">Posts</h2>
                {{ with .Site.GetPage "/posts" }}
                    {{ range first 5 (sort .Data.Pages "Date" "desc")}}
                        <div class="post">
                            <strong><a href="{{ .Permalink }}">{{ .Title }}</a></strong>
                            <time>{{ .Date | time.Format ":date_long" }}</time>
                            {{ partial "summary.html" . }}
                        </div>
                    {{ end }}
                    {{ if gt (len .Pages) 5 }}
                    <p>...</p>
                    {{ end }}
                {{ end }}
            </div>
        {{ end }}

        {{ if .Site.Params.People.Enable }}
            <div class="people">
                <h2 class="section-heading">People</h2>
                <ul>
                    <li><strong>Supervisor: </strong>{{ .Site.Params.People.Supervisor }}</li>
                
                    <li>
                        {{ range $i, $person := .Site.Params.People.Coauthors.List }}
                            {{ if $i }}, {{ else }}<strong>Co-authors:</strong>{{ end }}
                            <a class="person" href="{{ .url | safeURL }}">{{ .name }}</a>
                        {{ end }}
                    </li>
                </ul>
            </div>
        {{ end }}
    </div>
</div>

{{ end }}